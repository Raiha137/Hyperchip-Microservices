<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/img/logo-tab.png" sizes="64x64"/>
    <title>Ledger Book - Hyperchip Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .ledger-page {
        min-height: 100vh;
        background-color: #050b12;
        color: #fff;
        padding-top: 80px;
        padding-bottom: 40px;
        }
        .ledger-card {
        background-color: #08131e;
        border-radius: 12px;
        box-shadow: 0 6px 24px rgba(0,0,0,0.4);
        padding: 20px 24px;
        }
        .ledger-card h4 {
        color: #f3a111;
        font-weight: 600;
        }
        .ledger-label {
        font-weight: 500;
        color: #f8f9fa;
        }
        .btn-amber {
        background-color: #f3a111;
        border-color: #f3a111;
        color: #000;
        }
        .btn-amber:hover {
        background-color: #ee831b;
        border-color: #ee831b;
        color: #000;
        }
        table thead {
        background-color: #102131;
        }
        table thead th {
        color: #f3a111;
        }
        table tbody tr {
        background-color: #0b1825;
        }
        table tbody tr:nth-child(even) {
        background-color: #101d2b;
        }
    </style>
</head>
<body>
<div th:replace="fragments/admin-header :: adminHeader"></div>
<div class="container ledger-page">
    <div class="row mb-4">
        <div class="col-12">
            <div class="ledger-card">
                <h4 class="mb-3">Ledger Book</h4>
                <!-- Simple filter (date range is optional) -->
                <form class="row g-3" id="ledger-filter-form">
                    <div class="col-md-3">
                        <label class="form-label ledger-label">From Date</label>
                        <input type="date" class="form-control" id="fromDate" name="fromDate">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label ledger-label">To Date</label>
                        <input type="date" class="form-control" id="toDate" name="toDate">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label ledger-label">Payment Method</label>
                        <select class="form-select" id="entryType" name="entryType">
                            <option value="">All</option>
                            <option value="RAZORPAY">Razorpay</option>
                            <option value="COD">Cash on Delivery</option>
                            <option value="WALLET">Wallet</option>
                        </select>
                    </div>
                    <div class="col-md-3 d-flex align-items-end">
                        <button type="button" id="btn-ledger-filter" class="btn btn-amber w-100">
                            Filter
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- TABLE -->
    <div class="row">
        <div class="col-12">
            <div class="ledger-card">
                <h5 class="mb-3">Ledger Entries</h5>
                <div id="ledger-status" class="mb-2 small text-info"></div>
                <div class="table-responsive">
                    <table class="table table-sm table-borderless align-middle">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Date / Time</th>
                            <th>Type</th>
                            <th>Direction</th>
                            <th>Order #</th>
                            <th>User</th>
                            <th>Method / Source</th>
                            <th class="text-end">Amount</th>
                        </tr>
                        </thead>
                        <tbody id="ledger-tbody">
                        <tr>
                            <td colspan="8" class="text-center text-muted">
                                Loading...
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/admin-footer :: adminFooter"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/admin-ledger.js}"></script>
</body>
</html>